pacman::p_load(tidyverse, dplyr, here, sf, ggplot2, readxl, writexl, janitor, randomizr)
getwd()
if (Sys.getenv("USERNAME") == "wb614406"){
DROPBOX <- file.path("C:/Users/wb614406/Dropbox")
}
#Method One----
path <- file.path(
DROPBOX,
"Rwanda Energy/datawork/RCT_data",
"baseline/data/data/four_district_2401.xlsx"
)
#read file----
four_district_2401 <- read_xlsx(path)
#Method One----
path_off900 <- file.path(
DROPBOX,
"Rwanda Energy/datawork/RCT_data",
"baseline/data/data/Additional Offgrid scope-NEP 2023 Final-Priorities.xlsx"
)
#read file----
offgrid_900 <- read_xlsx(path_off900)
View(offgrid_900)
path_off <- file.path(
DROPBOX,
"Rwanda Energy/datawork/RCT_data",
"baseline/data/data/Offgrid Scope Priorities.xlsx.xlsx"
)
#read file----
offgrid.2<- read_xlsx(path_off900)
offgrid.1<- read_xlsx(path_off)
path_off <- file.path(
DROPBOX,
"Rwanda Energy/datawork/RCT_data",
"baseline/data/data/Offgrid Scope Priorities.xlsx"
)
offgrid.1<- read_xlsx(path_off)
View(offgrid.1)
print("The data frames are different.")
if (all.equal(offgrid.1, offgrid.2)) {
print("The data frames are the same.")
} else {
print("The data frames are different.")
print(all.equal(offgrid.1, offgrid.2))
}
four_district_2401 <- four_district_2401 %>%
mutate(
SAS = ifelse(nep_revision %in% c("SAS", "SAS 2023", "GE_Temporaly SAS", "Microgrid"), "SAS", "non SAS")
)
four_district_2401.1 <- four_district_2401 %>%
mutate(any_offgrid = case_when(
et_sum !=0 | priority_0 == 0 ~ "partial",
.default = "newly"
))
table(three_scope_2401.1$SAS)
four_district_2401.1 <- four_district_2401.1  %>%
mutate(status = case_when(
any_grid == "newly" & any_offgrid == "newly" ~ "newly",
.default = "partial"
))
three_scope_2401.1 <- four_district_2401.1 %>%
filter(district %in% c("Karongi", "Rulindo", "Rutsiro") & scope_2401 == 1)
table(three_scope_2401.1$status)
four_district_2401.1 <- four_district_2401 %>%
mutate(any_offgrid = case_when(
et_sum !=0 | priority_0 == 0 ~ "partial",
.default = "newly"
))
four_district_2401.1 <- four_district_2401 %>%
mutate(any_offgrid = case_when(
et_sum !=0 | priority_0 == 0 ~ "partial",
.default = "newly"
))
four_district_2401.1 <- four_district_2401.1 %>%
mutate(
any_grid = case_when(
grid_status %in% c("newly") & nep_revision%in% c("GE", "Fill In")  ~ "newly",
.default = "partial"
)
)
four_district_2401.1 <- four_district_2401.1  %>%
mutate(status = case_when(
any_grid == "newly" & any_offgrid == "newly" ~ "newly",
.default = "partial"
))
three_scope_2401.1 <- four_district_2401.1 %>%
filter(district %in% c("Karongi", "Rulindo", "Rutsiro") & scope_2401 == 1)
table(three_scope_2401.1$status)
#Method One----
path <- file.path(
DROPBOX,
"Rwanda Energy/datawork/RCT_data",
"baseline/data/data/four_district_2401.xlsx"
)
#read file----
four_district_2401 <- read_xlsx(path)
four_district_2401.1 <- four_district_2401 %>%
mutate(any_offgrid = case_when(
et_sum !=0 | priority_0 == 0 ~ "partial",
.default = "newly"
))
four_district_2401.1 <- four_district_2401.1 %>%
mutate(
any_grid = case_when(
grid_status %in% c("newly") & nep_revision%in% c("GE", "Fill In")  ~ "newly",
.default = "partial"
)
)
four_district_2401.1 <- four_district_2401.1  %>%
mutate(status = case_when(
any_grid == "newly" & any_offgrid == "newly" ~ "newly",
.default = "partial"
))
three_scope_2401.1 <- four_district_2401.1 %>%
filter(district %in% c("Karongi", "Rulindo", "Rutsiro") & scope_2401 == 1)
table(three_scope_2401.1$status)
three_scope_2401.1 <- three_scope_2401.1 %>%
mutate(
status = ifelse(ubudehe_1 <20, "partial", status)
)
table(three_scope_2401.1$status)
